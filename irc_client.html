<!DOCTYPE html>
<html>
<head>
<title>JS IRC Client</title>
</head>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="/socket.io/socket.io.js"></script>
<script type="text/javascript">

var socket = io.connect('127.0.0.1:80');

$(document).ready(function (){
  $("#ui").hide();
   
  $("#connect-btn").click(function(e){
    e.preventDefault();
    $("#connect").hide();
    $("#ui").show();
    socket.send("CONNECT "+ $("#server").val());
    socket.send("NICK "+ $("#nick").val() +"\n");
    socket.send("USER "+ $("#nick").val() +" "+  $("#server").val().split(":")[0] + " blubb :"+$("#nick").val() +"\n");
  });

});

//socket.send("JOIN #las-vegas-uos\n");

socket.on('message', function (data) {
    $("body").append( "<p>"+ data+"</p>");
});

</script>
<body>
	<div id="connect">
		<form>
			<label for="server">Server: </label><input type="text" id="server" required value="irc.freenode.net:6667" /><br>
			<input type="text" id="nick" required placeholder="Your nickname here" />
			<input type="submit" id="connect-btn" value="connect" />
		</form>
	</div>
	<div id="ui">
		<section id="top-box" style="height: 500px">
			<section id="messages" style="float: left; height: 100%"></section>
			<aside id="userlist"
				style="float: right; width: 20%; height: 100%; background-color: #bbbbbb"></aside>
		</section>
		<section id="bottom-box">
			<input type="text" id="msginput" style="width: 80%" /><input
				type="submit" />
		</section>
	</div>
</body>
</html>
